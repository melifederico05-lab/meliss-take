<!DOCTYPE html>
<html>
<head>
  <title>meliss.take</title>
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;700&display=swap" rel="stylesheet">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.1/simple-lightbox.min.css" rel="stylesheet">
  <style>
    body { 
      font-family: 'Oswald', sans-serif; 
      text-align: center; 
      background: #000000; 
      margin: 0; padding: 0;
      color: white;
    }
    h1 { 
      margin-top: 40px; 
      color: #FF69B4; 
      font-size: 3em;
    }
    .album { 
      margin: 20px auto; 
      padding: 20px; 
      display: inline-block; 
      border-radius: 15px; 
      box-shadow: 0 4px 10px rgba(255,255,255,0.3);
      transition: transform 0.2s; 
      background-color: #222; /* default fallback */
    }
    .album:hover { transform: scale(1.05); }
    .album h2 { font-size: 2em; margin-bottom: 10px; color: white; }
    img { 
      width: 200px; 
      margin: 10px; 
      border-radius: 10px; 
      cursor: pointer; 
      transition: transform 0.2s; 
    }
    img:hover { transform: scale(1.05); }
    button { 
      padding: 10px 20px; 
      border: none; 
      border-radius: 10px; 
      cursor: pointer; 
      font-weight: bold;
      margin-top: 5px;
      color: white;
    }
    input { 
      padding: 8px; 
      border-radius: 10px; 
      border: 1px solid #FFFFFF; 
      margin-right: 5px;
      background: #000;
      color: white;
    }

    /* Album background colors */
    #desprimados { background-color: #9CAF88; }   /* Sage Green */
    #familia { background-color: #FFD700; }       /* Yellow */
    #asu { background-color: #FFC0CB; }           /* Pink */
    #manada { background-color: #800080; }        /* Purple */
    #birthdays { background-color: #89CFF0; }     /* Baby Blue */
    #que-oso { background-color: #FF6961; }       /* Light Red */
  </style>
</head>
<body>

<h1>meliss.take</h1>

<!-- Albums -->
<div class="album" id="desprimados">
  <h2>Desprimados</h2>
  <input type="password" id="pass1" placeholder="Password">
  <button onclick="openAlbum('desprimados','2021','pass1')">Open</button>
  <div id="desprimados-photos"></div>
</div>

<div class="album" id="familia">
  <h2>Familia</h2>
  <input type="password" id="pass2" placeholder="Password">
  <button onclick="openAlbum('familia','1234','pass2')">Open</button>
  <div id="familia-photos"></div>
</div>

<div class="album" id="asu">
  <h2>ASU</h2>
  <input type="password" id="pass3" placeholder="Password">
  <button onclick="openAlbum('asu','2023','pass3')">Open</button>
  <div id="asu-photos"></div>
</div>

<div class="album" id="manada">
  <h2>Manada</h2>
  <input type="password" id="pass4" placeholder="Password">
  <button onclick="openAlbum('manada','buzz','pass4')">Open</button>
  <div id="manada-photos"></div>
</div>

<div class="album" id="birthdays">
  <h2>Birthdays</h2>
  <input type="password" id="pass5" placeholder="Password">
  <button onclick="openAlbum('birthdays','0205','pass5')">Open</button>
  <div id="birthdays-photos"></div>
</div>

<div class="album" id="que-oso">
  <h2>Que Oso</h2>
  <input type="password" id="pass6" placeholder="Password">
  <button onclick="openAlbum('que-oso','CASA','pass6')">Open</button>
  <div id="que-oso-photos"></div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/simplelightbox/2.14.1/simple-lightbox.min.js"></script>
<script>
function openAlbum(albumId, correctPass, inputId) {
  const entered = document.getElementById(inputId).value;
  if (entered !== correctPass) { alert("Wrong password!"); return; }

  fetch(`${albumId}/`) 
    .then(response => response.text())
    .then(html => {
      const parser = new DOMParser();
      const doc = parser.parseFromString(html, "text/html");
      const links = Array.from(doc.querySelectorAll('a'))
        .map(a => a.getAttribute('href'))
        .filter(h => /\.(jpg|jpeg|png|gif)$/i.test(h));

      let content = '';
      links.forEach((img, i) => {
        content += `<a href="${albumId}/${img}"><img src="${albumId}/${img}" alt="${albumId} ${i+1}"></a>`;
      });

      document.getElementById(`${albumId}-photos`).innerHTML = content;

      new SimpleLightbox(`a[href^="${albumId}/"]`, {});
    })
    .catch(err => console.error('Error loading album:', err));
}
</script>

</body>
</html>
